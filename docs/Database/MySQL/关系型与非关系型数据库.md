

## 数据的储存方式

| **存储位置** | **优点**                                   | **缺点**                       |
| ------------ | ------------------------------------------ | ------------------------------ |
| 内存         | 速度快                                     | 不能永久保存，数据是临时状态。 |
| 文件         | 数据可以永久保存                           | 操作数据不方便，查询某个数据。 |
| 数据库       | 数据可以永久保存查询速度快对数据的管理方便 | 占用资源，需要购买。           |


## 关系型数据库

​数据库的英文单词： DataBase  简称 ： DB。用于存储和管理数据的仓库，本质上是一个文件系统，还是以文件的方式存在服务器的电脑上的。

​关系型数据库系统（RDBMS）是指使用了关系模型的数据库系统关系模型中，数据是分类存放的，数据之间可以有联系

**数据库的特点：**
- 持久化存储数据的，其实数据库就是一个文件系统
- 方便存储和管理数据
- 使用了统一的方式操作数据库 -- SQL

​所有的关系型数据库都可以使用通用的 SQL 语句进行管理 DBMS DataBase Management System。

**常见的数据库：**

| **数据库** | **简介**                                                  |
| ---------- | --------------------------------------------------------- |
| MySQL      | 开源免费的数据库，小型的数据库，MySQL6.x 版本也开始收费。 |
| Oracle     | 收费的大型数据库，Oracle 公司的产品。                     |
| DB2        | IBM 公司的数据库产品，收费的。常应用在金融领域中。        |
| SQL Server | MicroSoft 公司收费的中型的数据库。C#、.net 等语言常使用。 |
| SQLite     | 嵌入式的小型数据库，应用在手机端，如：Android。           |

### 数据库管理系统

数据库管理系统（DataBase Management System，**DBMS**）：指一个操作和管理数据库的大型软件，用于建立、使用和维护数据库，对数据库进行统一管理和控制，以保证数据库的安全性和完整性。用户通过数据库管理系统访问数据库中**表内的数据**。

### 数据库管理系统、数据库和表的关系

​数据库管理程序 **(DBMS)** 可以管理多个数据库，一般开发人员会针对每一个应用创建一个数据库。为保存应用中实体的数据，一般会在数据库创建多个表，以保存程序中实体 User 的数据。
​一个数据库服务器包含多个库，数据库：文件夹一个数据库包含多张表，表：文件一张表包含多条记录，记录：数据

数据库管理系统、数据库和表的关系如图所示：

![](assets/关系型数据库%20&%20非关系型数据库/image-20240428145035995.png)


### 关系型数据库的优势

- 复杂查询可以用SQL语句方便的在一个表以及多个表之间做非常复杂的数据查询。
- 事务支持使得对于安全性能很高的数据访问要求得以实现。对于这两类数据库，对方的优势就是自己的弱势，反之亦然。


## 非关系型数据库（NoSQL）

​NoSQL(Not Only SQL)数据库指的是数据分类存放，但是数据之间没有关联关系的数据库系统。关系型数据库与NoSQL数据库并非对立而是互补的关系，即通常情况下使用关系型数据库，在适合使用NoSQL的时候使用NoSQL数据库，让NoSQL数据库对关系型数据库的不足进行弥补。

​​一般会将数据存储在关系型数据库中，在NoSQL数据库中备份存储关系型数据库的数据。


### 主流的NoSQL产品

|              | **键值(Key-Value)存储**                             | **列存储**                                   | **文档型**                                  | **图形(Graph)**                                          |
| ------------ | --------------------------------------------------- | -------------------------------------------- | ------------------------------------------- | -------------------------------------------------------- |
| **相关产品** | Tokyo Cabinet/Tyrant、Redis、Voldemort、Berkeley DB | Cassandra, HBase, Riak                       | CouchDB、MongoDB                            | Neo4J、InfoGrid、Infinite Graph                          |
| **典型应用** | 内容缓存，主要用于处理大量数据的高访问负载          | 分布式的文件系统                             | Web应用（与Key-Value类似，Value是结构化的） | 社交网络                                                 |
| **数据模型** | 一系列键值对                                        | 以列簇式存储，将同一列数据存在一起           | 一系列键值对                                | 图结构                                                   |
| **优势**     | 快速查询                                            | 查找速度快，可扩展性强，更容易进行分布式扩展 | 数据结构要求不严格                          | 利用图结构相关算法                                       |
| **劣势**     | 存储的数据缺少结构化                                | 功能相对局限                                 | 查询性能不高，而且缺乏统一的查询语法        | 需要对整个图做计算才能得出结果，不容易做分布式的集群方案 |

### 非关系型数据库的优势

- 性能NoSQL是基于键值对的，可以想象成表中的主键和值的对应关系，而且不需要经过SQL层的解析，所以性能非常高。
- 可扩展性同样也是因为基于键值对，数据之间没有耦合性，所以非常容易水平扩展。

## NoSQL和关系型数据库比较

### 优点

- **成本：** NoSQL数据库简单易部署，基本都是开源软件，不需要像使用oracle那样花费大量成本购买使用，相比关系型数据库价格便宜。
- **查询速度：** NoSQL数据库将数据存储于缓存之中，关系型数据库将数据存储在硬盘中，自然查询速度远不及NoSQL数据库。
- **存储数据的格式：** NoSQL的存储格式是key,value形式、文档形式、图片形式等等，所以可以存储基础类型以及对象或者是集合等各种格式，而数据库则只支持基础类型。
- **扩展性：** 关系型数据库有类似join这样的多表查询机制的限制导致扩展很艰难。

### 缺点

- 维护的工具和资料有限，因为NoSQL是属于新的技术，不能和关系型数据库10几年的技术同日而语。
- 不提供对SQL的支持，如果不支持SQL这样的工业标准，将产生一定用户的学习和使用成本。
- 不提供关系型数据库对事务的处理。
